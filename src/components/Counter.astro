---
import ArrowDownIcon from '@assets/icons/arrow-down.svg';
import { Image } from 'astro:assets';
---

<div class="counter">
  <div class="counter-container">
    <div class="counter-item">
      <h2>URU</h2>
      <div class="counter-number">
        <span class="score" id="home-team-score">0</span>
      </div>
    </div>
    -
    <div class="counter-item">
      <div class="counter-number">
        <span class="score" id="away-team-score">0</span>
      </div>
      <h2>ARG</h2>
    </div>
  </div>
  <div class="arrow-down">
    <h3>STATS</h3>
    <Image src={ArrowDownIcon} alt="" width="10" />
  </div>
</div>

<dialog>
  <div class="stats-container">
    <table class="stats-table">
      <tr>
        <td>URU</td>
        <td></td>
        <td>ARG</td>
      </tr>
      <tr>
        <td>47</td>
        <td>BALL POSSESSION (%)</td>
        <td>53</td>
      </tr>
      <tr>
        <td>13</td>
        <td>SHOTS</td>
        <td>8</td>
      </tr>
      <tr>
        <td>3</td>
        <td>SHOTS ON GOAL</td>
        <td>4</td>
      </tr>
      <tr>
        <td>2</td>
        <td>CORNERS</td>
        <td>4</td>
      </tr>
      <tr>
        <td>123</td>
        <td>SHORT PASSES</td>
        <td>207</td>
      </tr>
    </table>
  </div>
</dialog>

<style lang="scss">
  .counter {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #fff;
    width: fit-content;
    margin: 0 auto;
    border-radius: 10px;
    padding: 5px;
    cursor: pointer;
    color: #333;
    pointer-events: auto;

    &:hover {
      background-color: #f5f5f5;
    }
    
    .counter-container {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      gap: 5px;
    }
  
    .counter-item {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      gap: 5px;
  
      h2 {
        font-size: 1rem;
      }
    }
  
    .counter-number {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 5px;
    }
  
    .score {
      font-size: 1rem;
      font-weight: bold;
      color: #333;
    }

    .arrow-down {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;

      h3 {
        font-size: 0.5rem;
      }
    }
  }


  .stats-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 5px;
    background-color: #fff;
    border-radius: 10px;
    padding: 5px;
    height: fit-content;

    .stats-table {
      width: 100%;
      border-collapse: collapse;
      border-spacing: 0;

      td,
      th {
        border: 1px solid #ddd;
        padding: 0.5rem;
        text-align: center;
        font-size: 0.8rem;
        color: #333;
      }
    }
  }
</style>
<script>
  const dialog = document.querySelector("dialog");
  const score = document.querySelector(".counter");

  score.addEventListener("click", () => {
    dialog.showModal();
  });

  window.addEventListener("click", (e) => {
    if (e.target === dialog) {
      dialog.close();
    }
  });
</script>
